<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapperPUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN""http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd"><mapper namespace="com.venada.efinance.pojo.ProjectUser">	<resultMap type="ProjectUser" id="projectUserMap">		<result column="id" property="id" />		<result column="projectId" property="projectId" />		<result column="project_invest_id" property="projectInvesId" />		<result column="userid" property="userid" />		<result column="mobileNumber" property="mobileNumber" />		<result column="count" property="count" />		<result column="price" property="price" />		<result column="amount" property="amount" />		<result column="realAmount" property="realAmount" />		<result column="createTime" property="createTime" />		<result column="successTime" property="successTime" />		<result column="orderBy" property="orderBy" />		<result column="status" property="status" />		<result column="remark" property="remark" />				<result column="projectname" property="projectname" />				<result column="investname" property="investname" />				<result column="endtime" property="endtime" />				<result column="bAmount" property="bAmount" />				<result column="mAmount" property="mAmount" />				<result column="daysdate" property="daysdate" />	</resultMap>		<insert id="saveProjectUser" parameterType="ProjectUser">		insert into ec_project_user (id,projectId,project_invest_id,userid,mobileNumber,count,price,amount,realAmount,createTime,successTime,orderBy,status,remark) 		 values (#{id},#{projectId},#{projectInvesId},#{userid},#{mobileNumber},#{count},#{price},#{amount},#{realAmount},now(),#{successTime},#{orderBy},#{status},#{remark});	</insert>		<select id="queryProjectUserForDetail"  parameterType="java.lang.String" resultType="ProjectUser">	<![CDATA[	select a.*,b.nickName,b.id userId from ec_project_user_detail_view a left join ec_user b on a.mobileNumber = b.mobileNumber where a.projectId = #{value} limit 3	]]>	</select>			<select id="getAleardySupportNum"  parameterType="java.lang.String" resultType="int">	   SELECT SUM(epu.count) FROM  ec_project_user epu WHERE epu.project_invest_id=#{projectInvestId} 	</select>		<select id="getSupportLog" parameterType="java.util.Map" resultMap="projectUserMap">		SELECT t1.mobileNumber,	t3.name as projectname,t3.endtime,t3.daysdate,t2.invest_name as investname,t1.price,t1.count,t1.realAmount,t1.count * t2.benefit_amount as bAmount,t1.count * t2.miss_benefit_amount as mAmountFROM	ec_project_user t1,	ec_project_invest t2,	ec_project t3WHERE	t1.project_invest_id = t2.idAND t1.projectId = t3.id 	<if test="userid != null">	<![CDATA[		and t1.userid = #{userid}	]]>	</if>		<if test="mobileNumber != null">	<![CDATA[		and t1.mobileNumber = #{mobileNumber}	]]>	</if>		<if test="dateTimeBegin != null">	<![CDATA[		and t1.successTime >= #{dateTimeBegin}		]]>	</if>		<if test="dateTimeEnd != null">	<![CDATA[		and t1.successTime <= #{dateTimeEnd}		]]>	</if> order by t1.successTime desc	</select>		<select id="getSupportLogCount" parameterType="String" resultType="int">		SELECT count(1)FROM	ec_project_user t1,	ec_project_invest t2,	ec_project t3WHERE	t1.project_invest_id = t2.idAND t1.projectId = t3.id <if test="userid != null">	<![CDATA[		and t1.userid = #{userid}	]]>	</if>		<if test="mobileNumber != null">	<![CDATA[		and t1.mobileNumber = #{mobileNumber}	]]>	</if>		<if test="dateTimeBegin != null">	<![CDATA[		and t1.successTime >= #{dateTimeBegin}		]]>	</if>		<if test="dateTimeEnd != null">	<![CDATA[		and t1.successTime <= #{dateTimeEnd}		]]>	</if>	</select>	</mapper>